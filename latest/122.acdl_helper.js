"use strict";(self.webpackChunkacdl_helper=self.webpackChunkacdl_helper||[]).push([[122],{122:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});const o=Object.freeze({update_object:function(e,t){const n={};return e.reduce((function(e,n,o,s){return o===s.length-1?e[n]=t:e[n]={}}),n),n},get_user_data:function(e,t){return e&&t?e[t]:e&&!t?e:void 0}});function s(){return{meta:Object.freeze({name:"user",dependencies:["launch:loaded"],events:[],config:{adobe_org_id:"",default_name:"Anonymous"}}),impl:n=>({init:e(n),handle_event:function(e){},provider:t(n)})};function e(e){return function(){if(!window.adobe?.optIn)return void e.logger.error("Cannot initialize user - adobe optIn framework is missing!");if(!e.config?.adobe_org_id)return void e.logger.error("Cannot initialize user - Config for 'adob_org_id' is missing!");const t=window.Visitor.getInstance(e.config.adobe_org_id);t.getVisitorValues((n=>{e.acdl.push(o.update_object(["user","name"],e.config.default_name)),e.acdl.push(o.update_object(["user","mcid"],t.getMarketingCloudVisitorID())),e.acdl.push(o.update_object(["user","local_segments"],[]))}))}}function t(e){return Object.freeze({get(t){const n=e.acdl.get_state("user");return o.get_user_data(n,t)},add_segment(t){const n=e.acdl.get_state(),s=n?.user?.local_segments;s&&e.acdl.push(o.update_object(["user","local_segments"],s.concat([t])))},remove_segment(t){const n=e.acdl.get_state(),s=n?.user?.local_segments;if(s){const n=s.map((e=>e===t?null:e));e.acdl.push(o.update_object(["user","local_segments"],n))}},clear_segments(){const t=e.acdl.get_state(),n=t?.user?.local_segments;if(n){const t=n.map((e=>null));e.acdl.push(o.update_object(["user","local_segments"],t))}}})}}}}]);